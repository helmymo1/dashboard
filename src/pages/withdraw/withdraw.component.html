<div class="withdraw-container">
  <div class="card profit-card">
    <div class="profit-info">
      <h3>Your Profit</h3>
      <p class="profit-amount">200.00 <span>$</span></p>
      <p>Your current balance available for withdrawal is <strong>200.00 SAR</strong>.<br>You can withdraw this amount using any of the methods available below.</p>
    </div>
    <div class="promo-code">
      <span class="icon" [style.-webkit-mask-image]="'url(assets/icons/star.svg)'" [style.mask-image]="'url(assets/icons/star.svg)'"></span>
      <div class="promo-text">
        <p>Promocode: #AH1234</p>
        <small>Start from 02/2024 to 10/2024</small>
      </div>
    </div>
  </div>

  <div class="card withdraw-request-section">
    <h3>Request to withdraw an amount</h3>
    <p>Choose the withdrawal method</p>
    <div class="method-selection">
      <button [class.active]="selectedMethod === 'bank'" (click)="selectMethod('bank')">Bank Transfer</button>
      <button [class.active]="selectedMethod === 'stc'" (click)="selectMethod('stc')">STC</button>
    </div>

    <form class="withdraw-form" (ngSubmit)="onRequestWithdraw()">
      <!-- Bank Transfer Fields -->
      <div *ngIf="selectedMethod === 'bank'" class="form-grid">
        <div class="form-group">
          <label for="bankName">Bank Name</label>
          <input id="bankName" type="text" placeholder="e.g. Al-Rajhi Bank">
        </div>
        <div class="form-group">
          <label for="accountNumber">Account Number</label>
          <input id="accountNumber" type="text" placeholder="1234 5678 9101 1121">
        </div>
        <div class="form-group">
          <label for="holderNameBank">Account Holder's Name</label>
          <input id="holderNameBank" type="text" placeholder="e.g. Ahmed Mohamed">
        </div>
        <div class="form-group">
          <label for="iban">IBAN</label>
          <input id="iban" type="text" placeholder="SA03 8000 0000 6080 1016 7519">
        </div>
        <div class="form-group">
          <label for="accountType">Account Type</label>
          <select id="accountType">
            <option value="" disabled selected>Select account type</option>
            <option value="saving">Saving</option>
            <option value="current">Current</option>
          </select>
        </div>
        <div class="form-group">
            <label for="amountBank">Amount to Withdraw</label>
            <div class="amount-input">
                <input id="amountBank" type="text" value="200.00">
                <span class="currency">SAR</span>
            </div>
        </div>
      </div>

      <!-- STC Pay Fields -->
      <div *ngIf="selectedMethod === 'stc'" class="form-grid">
        <div class="form-group">
          <label for="mobileNumber">Mobile Number</label>
          <input id="mobileNumber" type="tel" placeholder="e.g. 05xxxxxxxx">
        </div>
        <div class="form-group">
          <label for="holderNameStc">Account Holder's Name</label>
          <input id="holderNameStc" type="text" placeholder="e.g. Ahmed Mohamed">
        </div>
        <div class="form-group">
            <label for="amountStc">Amount to Withdraw</label>
            <div class="amount-input">
                <input id="amountStc" type="text" value="200.00">
                <span class="currency">SAR</span>
            </div>
        </div>
      </div>

      <button type="submit" class="request-btn">Request</button>
    </form>
  </div>

  <div class="card withdrawal-history-section">
    <h3>Withdrawal history</h3>
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Method</th>
          <th>Amount</th>
          <th>Status</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>January 10, 2025</td>
          <td>Bank Transfer</td>
          <td>200,00 SAR</td>
          <td class="status-completed">Completed</td>
          <td>-</td>
        </tr>
        <tr>
          <td>January 5, 2025</td>
          <td>STC</td>
          <td>200,00 SAR</td>
          <td class="status-completed">Completed</td>
          <td>-</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="5">Total withdrawal: <strong>400,00 SAR</strong></td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>

<app-withdrawal-submitted-modal [isOpen]="isWithdrawalSubmittedModalOpen" (closed)="isWithdrawalSubmittedModalOpen = false"></app-withdrawal-submitted-modal>